create table poll (id bigint generated by default as identity, owner_id bigint, published_at timestamp(6) with time zone, valid_until timestamp(6) with time zone, question varchar(255), primary key (id));
create table users (id bigint generated by default as identity, email varchar(255), password varchar(255), username varchar(255), primary key (id));
create table vote (id bigint generated by default as identity, published_at timestamp(6) with time zone, user_id bigint, vote_option_id bigint, primary key (id));
create table vote_option (id bigint generated by default as identity, poll_id bigint, presentation_order bigint not null, caption varchar(255), primary key (id));
alter table if exists poll add constraint FKt0fx2lmnciaxhg5gmbb41veel foreign key (owner_id) references users;
alter table if exists vote add constraint FKkmvvqilx49120p47nr9t56omf foreign key (user_id) references users;
alter table if exists vote add constraint FKh8ws1u4yubjccgtjtpmb2f4rb foreign key (vote_option_id) references vote_option;
alter table if exists vote_option add constraint FKc3kqmx2cig1mb3kid3gjwtx2a foreign key (poll_id) references poll;
create table poll (id bigint generated by default as identity, owner_id bigint, published_at timestamp(6) with time zone, valid_until timestamp(6) with time zone, question varchar(255), primary key (id));
create table users (id bigint generated by default as identity, email varchar(255), password varchar(255), username varchar(255), primary key (id));
create table vote (id bigint generated by default as identity, published_at timestamp(6) with time zone, user_id bigint, vote_option_id bigint, primary key (id));
create table vote_option (id bigint generated by default as identity, poll_id bigint, presentation_order bigint not null, caption varchar(255), primary key (id));
alter table if exists poll add constraint FKt0fx2lmnciaxhg5gmbb41veel foreign key (owner_id) references users;
alter table if exists vote add constraint FKkmvvqilx49120p47nr9t56omf foreign key (user_id) references users;
alter table if exists vote add constraint FKh8ws1u4yubjccgtjtpmb2f4rb foreign key (vote_option_id) references vote_option;
alter table if exists vote_option add constraint FKc3kqmx2cig1mb3kid3gjwtx2a foreign key (poll_id) references poll;
create table poll (id bigint generated by default as identity, owner_id bigint, published_at timestamp(6) with time zone, valid_until timestamp(6) with time zone, question varchar(255), primary key (id));
create table users (id bigint generated by default as identity, email varchar(255), password varchar(255), username varchar(255), primary key (id));
create table vote (id bigint generated by default as identity, published_at timestamp(6) with time zone, user_id bigint, vote_option_id bigint, primary key (id));
create table vote_option (id bigint generated by default as identity, poll_id bigint, presentation_order bigint not null, caption varchar(255), primary key (id));
alter table if exists poll add constraint FKt0fx2lmnciaxhg5gmbb41veel foreign key (owner_id) references users;
alter table if exists vote add constraint FKkmvvqilx49120p47nr9t56omf foreign key (user_id) references users;
alter table if exists vote add constraint FKh8ws1u4yubjccgtjtpmb2f4rb foreign key (vote_option_id) references vote_option;
alter table if exists vote_option add constraint FKc3kqmx2cig1mb3kid3gjwtx2a foreign key (poll_id) references poll;
create table poll (id bigint generated by default as identity, owner_id bigint, published_at timestamp(6) with time zone, valid_until timestamp(6) with time zone, question varchar(255), primary key (id));
create table users (id bigint generated by default as identity, email varchar(255), password varchar(255), username varchar(255), primary key (id));
create table vote (id bigint generated by default as identity, published_at timestamp(6) with time zone, user_id bigint, vote_option_id bigint, primary key (id));
create table vote_option (id bigint generated by default as identity, poll_id bigint, presentation_order bigint not null, caption varchar(255), primary key (id));
alter table if exists poll add constraint FKt0fx2lmnciaxhg5gmbb41veel foreign key (owner_id) references users;
alter table if exists vote add constraint FKkmvvqilx49120p47nr9t56omf foreign key (user_id) references users;
alter table if exists vote add constraint FKh8ws1u4yubjccgtjtpmb2f4rb foreign key (vote_option_id) references vote_option;
alter table if exists vote_option add constraint FKc3kqmx2cig1mb3kid3gjwtx2a foreign key (poll_id) references poll;
create table poll (id bigint generated by default as identity, owner_id bigint, published_at timestamp(6) with time zone, valid_until timestamp(6) with time zone, question varchar(255), primary key (id));
create table users (id bigint generated by default as identity, email varchar(255), password varchar(255), username varchar(255), primary key (id));
create table vote (id bigint generated by default as identity, published_at timestamp(6) with time zone, user_id bigint, vote_option_id bigint, primary key (id));
create table vote_option (id bigint generated by default as identity, poll_id bigint, presentation_order bigint not null, caption varchar(255), primary key (id));
alter table if exists poll add constraint FKt0fx2lmnciaxhg5gmbb41veel foreign key (owner_id) references users;
alter table if exists vote add constraint FKkmvvqilx49120p47nr9t56omf foreign key (user_id) references users;
alter table if exists vote add constraint FKh8ws1u4yubjccgtjtpmb2f4rb foreign key (vote_option_id) references vote_option;
alter table if exists vote_option add constraint FKc3kqmx2cig1mb3kid3gjwtx2a foreign key (poll_id) references poll;
